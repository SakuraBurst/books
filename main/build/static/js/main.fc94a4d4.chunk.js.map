{"version":3,"sources":["entity/mutation.types.ts","helpers/hooks.ts","components/Lol.tsx","store/actions/auth.ts","helpers/axios.ts","store/actions/common.ts","store/sideEffects/errors.ts","store/sideEffects/auth.ts","components/GreatLoader.tsx","context/AuthProvider.tsx","components/FormBuilder.tsx","components/pages/Authoriztion.tsx","store/actions/books.ts","components/JustModal.tsx","components/AddBookModal.tsx","components/pages/Books.tsx","router/ProtectedRoute.tsx","components/pages/Registration.tsx","components/DeleteBookModal.tsx","components/EditBookModal.tsx","components/pages/Book.tsx","router/Router.tsx","components/Alert.tsx","App.tsx","reportWebVitals.ts","store/reducers/profile.ts","store/reducers/books.ts","store/reducers/common.ts","store/reducers/index.ts","store/sideEffects/books.ts","store/sideEffects/common.ts","store/sideEffects/index.ts","index.tsx","store/configureStore.ts"],"names":["MutationTypes","useAppDispatch","useDispatch","useAppSelector","useSelector","Lol","token","a","auth","Button","variant","loginActionSuccess","data","type","LOGIN_SUCCESS","logoutAction","LOGOUT","AxiosInstanse","axios","create","baseURL","timeout","firstAppLoading","flag","FIRST_APP_LOADING","setAppLoading","SET_LOADING","setAlert","alert","newAlert","text","id","Date","getTime","store","dispatch","removeAlertTimeout","SET_ALERT","alertId","REMOVE_ALERT_TIMEOUT","removeAlert","REMOVE_ALERT","ErrorSaga","e","response","status","localStorage","setItem","LOCAL_STORAGE_KEY","put","AuthSaga","RegistrationSaga","GetUserByTokenSaga","AuthWatcher","login","post","registration","getUser","get","loginObj","history","call","defaults","headers","push","console","log","newUser","takeEvery","GET_USER_BY_TOKEN","REGISTRATION","LOGIN","GreatLoader","Spinner","animation","AuthContext","createContext","undefined","useAuth","useContext","AuthProvider","children","useRef","current","user","isAppLoading","common","currentToken","loginAction","logOut","registrationAction","useEffect","getItem","Provider","value","FormBuilder","formikInitialValue","fields","buttonName","onSubmit","schema","formik","useFormik","initialValues","validationSchema","values","className","Form","noValidate","validated","isValid","handleSubmit","map","Row","Group","Label","title","Control","required","valueName","name","onBlur","handleBlur","placeholder","onChange","handleChange","touched","errors","isInvalid","controlId","Authorization","props","Yup","email","password","Alert","onClick","fetchBooks","GET_BOOKS","setBooksIntoState","SET_BOOKS","setBookIntoState","SET_BOOK","JustModal","show","onHide","submitButton","submitButtonText","showFooter","Modal","size","aria-labelledby","centered","Header","closeButton","Title","Body","Footer","AddBookModal","author","year","book","ADD_BOOK","ListOfBooks","useState","currentBooksList","setCurrentBooksList","modalShow","setModalShow","books","dispatchBooks","length","nextPage","where","currentBooks","i","Card","Subtitle","Text","format","ButtonToolbar","ButtonGroup","buttons","pagination","Math","ceil","ProtectedRoute","path","to","Registration","first_name","last_name","DeleteBookModal","deleteBook","DELETE_BOOK","deleteBookAction","EditBookModal","initialValue","moment","bookForm","EDIT_BOOK","Book","randomPictures","changeDeleteBook","editBook","changeEditBook","pictureIndex","changePictureIndex","currentBook","match","params","changeIndex","round","random","GET_BOOK","fetchBook","Img","src","Router","route","routeName","routeComponent","withRouter","private","loading","alerts","aria-live","aria-atomic","style","position","minHeight","top","right","Toast","backgroundColor","color","minWidth","onClose","App","appLoading","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialProfileStore","userReducer","state","action","SET_TOKEN","initialBooksStore","booksReducer","initialCommonStore","newAlerts","commonReducer","initialState","GetBooksSaga","AddBookSaga","GetBookSaga","EditBookSaga","DeleteBookSaga","BooksWatcher","getBooksApi","getBookApi","setBookApi","editBookApi","deleteBookApi","delete","TimeoutSaga","CommonWatcher","delay","rootSaga","all","saga","createSagaMiddleware","enchancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","createStore","combineReducers","run","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc94a4d4.chunk.js","sourcesContent":["export enum MutationTypes {\n  FIRST_APP_LOADING = \"FIRST_APP_LOADING\",\n  SET_LOADING = \"SET_LOADING\",\n  SET_ALERT = \"SET_ALERT\",\n  REMOVE_ALERT = \"REMOVE_ALERT\",\n  REMOVE_ALERT_TIMEOUT = \"REMOVE_ALERT_TIMEOUT\",\n  LOGIN = \"LOGIN\",\n  LOGOUT = \"LOGOUT\",\n  REGISTRATION = \"REGISTRATION\",\n  GET_USER_BY_TOKEN = \"GET_USER_BY_TOKEN\",\n  LOGIN_SUCCESS = \"LOGIN_SUCCESS\",\n  SET_TOKEN = \"SET_TOKEN\",\n  GET_BOOKS = \"GET_BOOKS\",\n  SET_BOOKS = \"SET_BOOKS\",\n  GET_BOOK = \"GET_BOOK\",\n  SET_BOOK = \"SET_BOOK\",\n  ADD_BOOK = \"ADD_BOOK\",\n  EDIT_BOOK = \"EDIT_BOOK\",\n  DELETE_BOOK = \"DELETE_BOOK\",\n}\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../index\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { Button } from \"react-bootstrap\";\nimport { useAppSelector } from \"../helpers/hooks\";\nimport { FC } from \"react\";\nimport { RouteComponentProps, StaticContext } from \"react-router\";\n\nexport const Lol: FC<RouteComponentProps<any, StaticContext, unknown>> = () => {\n  const token = useAppSelector((a) => a.auth.token);\n  return (\n    <div>\n      <Button variant=\"success\">{token}</Button>\n    </div>\n  );\n};\n","import { MutationTypes } from \"../../entity/mutation.types\";\nimport { UserResponseType } from \"../../entity/user.types\";\nimport { History } from \"history\";\nimport { AuthorizationForm, RegistrationForm } from \"../../entity/form.types\";\nexport const loginAction = (\n  loginObj: AuthorizationForm,\n  history: History<unknown>\n) => {\n  return <const>{\n    type: MutationTypes.LOGIN,\n    loginObj,\n    history,\n  };\n};\nexport const registrationAction = (\n  newUser: RegistrationForm,\n  history: History<unknown>\n) => {\n  return <const>{\n    type: MutationTypes.REGISTRATION,\n    newUser,\n    history,\n  };\n};\n\nexport const getUserByToken = () => {\n  return <const>{\n    type: MutationTypes.GET_USER_BY_TOKEN,\n  };\n};\nexport const loginActionSuccess = (data: UserResponseType) =>\n  <const>{\n    type: MutationTypes.LOGIN_SUCCESS,\n    data,\n  };\nexport const setToken = (data: string) =>\n  <const>{\n    type: MutationTypes.SET_TOKEN,\n    token: data,\n  };\nexport const logoutAction = () =>\n  <const>{\n    type: MutationTypes.LOGOUT,\n  };\n","import axios from \"axios\";\n\nexport const AxiosInstanse = axios.create({\n  baseURL: \"http://192.168.0.144:3584\",\n  timeout: 15000,\n});\n","import { MutationTypes } from \"../../entity/mutation.types\";\nimport { Alert, AlertMessage } from \"../../entity/common.types\";\nimport { store } from \"../../index\";\n\nexport const firstAppLoading = (flag: boolean) =>\n  <const>{\n    type: MutationTypes.FIRST_APP_LOADING,\n    flag,\n  };\n\nexport const setAppLoading = (flag: boolean) =>\n  <const>{\n    type: MutationTypes.SET_LOADING,\n    flag,\n  };\n\nexport const setAlert = (alert: AlertMessage) => {\n  const newAlert: Alert = {\n    type: alert.type,\n    text: alert.text,\n    id: new Date().getTime(),\n  };\n  store.dispatch(removeAlertTimeout(newAlert.id, 5000));\n  return <const>{\n    type: MutationTypes.SET_ALERT,\n    newAlert,\n  };\n};\n\nexport const removeAlertTimeout = (alertId: number, timeout: number) =>\n  <const>{\n    type: MutationTypes.REMOVE_ALERT_TIMEOUT,\n    alertId,\n    timeout,\n  };\n\nexport const removeAlert = (alertId: number) =>\n  <const>{\n    type: MutationTypes.REMOVE_ALERT,\n    alertId,\n  };\n","import { AxiosError } from \"axios\";\nimport { put } from \"redux-saga/effects\";\nimport { logoutAction } from \"../actions/auth\";\nimport { setAlert, setAppLoading } from \"../actions/common\";\nimport { LOCAL_STORAGE_KEY } from \"./auth\";\n\nexport function* ErrorSaga(e: AxiosError, text: string) {\n  if (e.response?.status === 401) {\n    localStorage.setItem(LOCAL_STORAGE_KEY, \"\");\n    yield put(logoutAction());\n    yield put(setAlert({ type: \"error\", text: \"Вы должны авторизоваться\" }));\n  } else {\n    yield put(setAlert({ type: \"error\", text }));\n  }\n  yield put(setAppLoading(false));\n}\n","import { UserResponseType } from \"../../entity/user.types\";\nimport { call, takeEvery, put } from \"redux-saga/effects\";\nimport { AxiosInstanse } from \"../../helpers/axios\";\nimport { firstAppLoading, setAlert, setAppLoading } from \"../actions/common\";\nimport {\n  loginAction,\n  loginActionSuccess,\n  registrationAction,\n} from \"../actions/auth\";\nimport { MutationTypes } from \"../../entity/mutation.types\";\nimport { AxiosResponse } from \"axios\";\nimport { AuthorizationForm, RegistrationForm } from \"../../entity/form.types\";\nimport { ErrorSaga } from \"./errors\";\nconst login = (data: AuthorizationForm) => () =>\n  AxiosInstanse.post(\"/api/login\", data);\n\nconst registration = (data: RegistrationForm) => () =>\n  AxiosInstanse.post(\"/api/registration\", data);\n\nconst getUser = () => AxiosInstanse.get(\"/api/v2/user\");\n\nexport const LOCAL_STORAGE_KEY = \"auth_key\";\n\nfunction* AuthSaga({ loginObj, history }: ReturnType<typeof loginAction>) {\n  yield put(setAppLoading(true));\n  try {\n    const response: AxiosResponse<UserResponseType> = yield call(\n      login(loginObj)\n    );\n    localStorage.setItem(LOCAL_STORAGE_KEY, response.data.token);\n    AxiosInstanse.defaults.headers[\"Authorization\"] = response.data.token;\n    yield put(loginActionSuccess(response.data));\n    history.push(\"/books\");\n    yield put(setAppLoading(false));\n  } catch (e) {\n    console.log(e);\n    yield ErrorSaga(\n      e,\n      \"штото пошло не так, проверьте правильность вводимых данных\"\n    );\n  }\n}\n\nfunction* RegistrationSaga({\n  newUser,\n  history,\n}: ReturnType<typeof registrationAction>) {\n  yield put(setAppLoading(true));\n  try {\n    yield call(registration(newUser));\n    history.push(\"/authorization\");\n    yield put(\n      setAlert({\n        type: \"success\",\n        text: \"ты зарегался, заебись, теперь ты можешь с этими данными зайти\",\n      })\n    );\n    yield put(setAppLoading(false));\n  } catch (e) {\n    console.log(e);\n    yield ErrorSaga(\n      e,\n      \"штото пошло не так, проверьте правильность вводимых данных\"\n    );\n  }\n}\n\nfunction* GetUserByTokenSaga() {\n  try {\n    const response: AxiosResponse<UserResponseType> = yield call(getUser);\n    yield put(loginActionSuccess(response.data));\n    yield put(firstAppLoading(false));\n  } catch (e) {\n    console.log(e.response);\n    yield ErrorSaga(e, \"Токен устарел\");\n    yield put(firstAppLoading(false));\n  }\n}\n\nexport function* AuthWatcher() {\n  yield takeEvery(MutationTypes.GET_USER_BY_TOKEN, GetUserByTokenSaga);\n  yield takeEvery(MutationTypes.REGISTRATION, RegistrationSaga);\n  yield takeEvery(MutationTypes.LOGIN, AuthSaga);\n}\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nexport default function GreatLoader() {\n  return (\n    <>\n      <Spinner animation=\"border\" variant=\"primary\" />\n      <Spinner animation=\"border\" variant=\"secondary\" />\n      <Spinner animation=\"border\" variant=\"success\" />\n      <Spinner animation=\"border\" variant=\"danger\" />\n      <Spinner animation=\"border\" variant=\"warning\" />\n      <Spinner animation=\"border\" variant=\"info\" />\n      <Spinner animation=\"border\" variant=\"light\" />\n      <Spinner animation=\"border\" variant=\"dark\" />\n      <Spinner animation=\"grow\" variant=\"primary\" />\n      <Spinner animation=\"grow\" variant=\"secondary\" />\n      <Spinner animation=\"grow\" variant=\"success\" />\n      <Spinner animation=\"grow\" variant=\"danger\" />\n      <Spinner animation=\"grow\" variant=\"warning\" />\n      <Spinner animation=\"grow\" variant=\"info\" />\n      <Spinner animation=\"grow\" variant=\"light\" />\n      <Spinner animation=\"grow\" variant=\"dark\" />\n    </>\n  );\n}\n","import {\n  createContext,\n  FC,\n  ReactNode,\n  useContext,\n  useEffect,\n  useRef,\n} from \"react\";\nimport { History } from \"history\";\nimport { User } from \"../entity/user.types\";\nimport { useAppDispatch, useAppSelector } from \"../helpers/hooks\";\nimport {\n  getUserByToken,\n  loginAction,\n  logoutAction,\n  registrationAction,\n} from \"../store/actions/auth\";\nimport { AuthorizationForm, RegistrationForm } from \"../entity/form.types\";\nimport { LOCAL_STORAGE_KEY } from \"../store/sideEffects/auth\";\nimport { AxiosInstanse } from \"../helpers/axios\";\nimport GreatLoader from \"../components/GreatLoader\";\nimport { firstAppLoading } from \"../store/actions/common\";\ntype auth =\n  | {\n      currentToken: string;\n      user: User | undefined;\n      login(login: AuthorizationForm, history: History<unknown>): void;\n      logOut(): void;\n      registration(newUser: RegistrationForm, history: History<unknown>): void;\n    }\n  | undefined;\n\nconst AuthContext = createContext<auth>(undefined);\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport const AuthProvider: FC<{ children: ReactNode }> = ({\n  children,\n}: {\n  children: ReactNode;\n}) => {\n  // ну да шобы линтер не ругался\n  const dispatch = useRef(useAppDispatch());\n  dispatch.current = useAppDispatch();\n  const { user, token } = useAppSelector((a) => a.auth);\n  const isAppLoading = useAppSelector((a) => a.common.firstAppLoading);\n  const auth = {\n    currentToken: token,\n    user,\n    login(login: AuthorizationForm, history: History<unknown>) {\n      dispatch.current(loginAction(login, history));\n    },\n    logOut() {\n      dispatch.current(logoutAction());\n    },\n    registration(newUser: RegistrationForm, history: History<unknown>) {\n      dispatch.current(registrationAction(newUser, history));\n    },\n  };\n  useEffect(() => {\n    const token = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (token) {\n      AxiosInstanse.defaults.headers[\"Authorization\"] = token;\n      dispatch.current(getUserByToken());\n    } else {\n      dispatch.current(firstAppLoading(false));\n    }\n  }, []);\n  return auth && !isAppLoading ? (\n    <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>\n  ) : (\n    <GreatLoader />\n  );\n};\n","import { useFormik } from \"formik\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { FC } from \"react\";\nimport {\n  AuthorizationForm,\n  NewBookForm,\n  RegistrationForm,\n} from \"../entity/form.types\";\nimport { History } from \"history\";\n\nexport interface Field<T> {\n  type: \"text\" | \"password\" | \"date\";\n  valueName: keyof T;\n  title: string;\n  placeholder: string;\n  controlId: string;\n}\n\nexport interface FormBuilderI<T> {\n  formikInitialValue: T;\n  fields: Array<Field<T>>;\n  buttonName: string;\n  onSubmit(value: T, history?: History<unknown>): void;\n  schema: any;\n}\n\n// ТИП ТОЛЬКО ДЛЯ ФОРМ БИЛДЕРА\n// это плохо я знаю, но я пока хз как сделать так, чтобы все типы удовлетворяли одному инетрфейсу\n// поэтому просто сделал его локальным\ntype _FormUnion = RegistrationForm & AuthorizationForm & NewBookForm;\n\nexport const FormBuilder: FC<FormBuilderI<_FormUnion>> = ({\n  formikInitialValue,\n  fields,\n  buttonName,\n  onSubmit,\n  schema,\n}) => {\n  const formik = useFormik<_FormUnion>({\n    initialValues: formikInitialValue,\n    validationSchema: schema,\n    onSubmit: (values) => {\n      onSubmit(values);\n    },\n  });\n  return (\n    <div className=\"auth-form justify-content-center d-flex\">\n      <Form\n        noValidate\n        validated={formik.isValid}\n        onSubmit={formik.handleSubmit}\n      >\n        {fields.map((a) => (\n          <Form.Row key={a.controlId}>\n            <Form.Group>\n              <Form.Label>{a.title}</Form.Label>\n              <Form.Control\n                required\n                id={a.valueName}\n                name={a.valueName}\n                type={a.type}\n                onBlur={formik.handleBlur}\n                placeholder={a.placeholder}\n                value={formik.values[a.valueName]}\n                onChange={formik.handleChange}\n                isValid={\n                  formik.touched[a.valueName] && !formik.errors[a.valueName]\n                }\n                isInvalid={\n                  formik.touched[a.valueName] && !!formik.errors[a.valueName]\n                }\n              />\n            </Form.Group>\n          </Form.Row>\n        ))}\n        <Button type=\"submit\">{buttonName}</Button>\n      </Form>\n    </div>\n  );\n};\n","import { Alert } from \"react-bootstrap\";\nimport { FC } from \"react\";\nimport { useAppDispatch } from \"../../helpers/hooks\";\nimport { RouteComponentProps, StaticContext } from \"react-router\";\nimport { useAuth } from \"../../context/AuthProvider\";\nimport { AuthorizationForm } from \"../../entity/form.types\";\nimport * as Yup from \"yup\";\nimport { setAlert } from \"../../store/actions/common\";\nimport { Field, FormBuilder } from \"../FormBuilder\";\n\nexport const Authorization: FC<\n  RouteComponentProps<any, StaticContext, unknown>\n> = (props: RouteComponentProps) => {\n  const dispatch = useAppDispatch();\n  const auth = useAuth();\n\n  const initialValues: AuthorizationForm = {\n    email: \"\",\n    password: \"\",\n  };\n  const schema = Yup.object({\n    email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n    password: Yup.string().required(\"Required\"),\n  });\n\n  const submit = (values: AuthorizationForm) => {\n    if (auth) {\n      auth.login(values, props.history);\n    } else {\n      dispatch(setAlert({ type: \"error\", text: \"возникли какие-то проблемы\" }));\n    }\n  };\n  const fields: Array<Field<AuthorizationForm>> = [\n    {\n      type: \"text\",\n      valueName: \"email\",\n      title: \"E-mail\",\n      placeholder: \"\",\n      controlId: \"3\",\n    },\n    {\n      type: \"password\",\n      valueName: \"password\",\n      title: \"Пароль\",\n      placeholder: \"\",\n      controlId: \"4\",\n    },\n  ];\n  function registration() {\n    props.history.push(\"/registration\");\n  }\n  return (\n    <div className=\"auth-form justify-content-center d-flex\">\n      <FormBuilder\n        formikInitialValue={initialValues}\n        fields={fields}\n        buttonName={\"Войти\"}\n        onSubmit={submit}\n        schema={schema}\n      />\n      <Alert\n        onClick={registration}\n        className=\"cursor-pointer\"\n        variant=\"primary\"\n      >\n        Нет аккаунта? Зарегестрироваться\n      </Alert>\n    </div>\n  );\n};\n","import { MutationTypes } from \"../../entity/mutation.types\";\nimport { Book, BooksResponseType } from \"../../entity/books.types\";\nimport { NewBookForm } from \"../../entity/form.types\";\nimport { History } from \"history\";\n\nexport const fetchBooks = () =>\n  <const>{\n    type: MutationTypes.GET_BOOKS,\n  };\n\nexport const AddBook = (book: NewBookForm) =>\n  <const>{\n    type: MutationTypes.ADD_BOOK,\n    book,\n  };\n\nexport const EditBook = (bookForm: NewBookForm, id: string) =>\n  <const>{\n    type: MutationTypes.EDIT_BOOK,\n    bookForm,\n    id,\n  };\n\nexport const setBooksIntoState = (data: BooksResponseType) =>\n  <const>{\n    type: MutationTypes.SET_BOOKS,\n    data,\n  };\n\nexport const fetchBook = (id: string) =>\n  <const>{\n    type: MutationTypes.GET_BOOK,\n    id,\n  };\n\nexport const setBookIntoState = (data: Book) =>\n  <const>{\n    type: MutationTypes.SET_BOOK,\n    data,\n  };\n\nexport const deleteBookAction = (id: string, history: History<unknown>) =>\n  <const>{\n    type: MutationTypes.DELETE_BOOK,\n    id,\n    history,\n  };\n","import { Button, Modal } from \"react-bootstrap\";\nimport { FC, ReactNode } from \"react\";\n\nexport interface ModalI {\n  children: ReactNode;\n  show: boolean;\n  submitButton: boolean;\n  onSubmit(...any: any): void;\n  submitButtonText: string;\n  onHide(): void;\n  showFooter?: boolean;\n  text: string;\n}\n\nexport const JustModal: FC<ModalI> = ({\n  children,\n  show,\n  onHide,\n  submitButton,\n  submitButtonText,\n  onSubmit,\n  text,\n  showFooter = true,\n}) => {\n  return (\n    <Modal\n      show={show}\n      onHide={onHide}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">{text}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>{children}</Modal.Body>\n      {showFooter ? (\n        <Modal.Footer>\n          {submitButton ? (\n            <Button onClick={onSubmit}>{submitButtonText}</Button>\n          ) : (\n            <></>\n          )}\n          <Button onClick={onHide}>закрыть</Button>\n        </Modal.Footer>\n      ) : (\n        <></>\n      )}\n    </Modal>\n  );\n};\n","import { FC } from \"react\";\nimport { JustModal } from \"./JustModal\";\nimport { useAppDispatch } from \"../helpers/hooks\";\nimport { NewBookForm } from \"../entity/form.types\";\nimport * as Yup from \"yup\";\nimport { Field, FormBuilder } from \"./FormBuilder\";\nimport { AddBook } from \"../store/actions/books\";\nimport { History } from \"history\";\n\ninterface AddBookModalI {\n  show: boolean;\n  onHide(): void;\n  history: History<unknown>;\n}\n\nexport const AddBookModal: FC<AddBookModalI> = ({ show, onHide, history }) => {\n  const dispatch = useAppDispatch();\n\n  const submit = (values: NewBookForm) => {\n    dispatch(AddBook(values));\n    onHide();\n  };\n\n  const initialValue: NewBookForm = {\n    title: \"\",\n    author: \"\",\n    year: \"\",\n  };\n\n  const schema = Yup.object({\n    title: Yup.string().required(\"Required\"),\n    author: Yup.string().required(\"Required\"),\n    year: Yup.date().required(\"Required\"),\n  });\n\n  const fields: Array<Field<NewBookForm>> = [\n    {\n      type: \"text\",\n      valueName: \"title\",\n      title: \"Название\",\n      placeholder: \"\",\n      controlId: \"1\",\n    },\n    {\n      type: \"text\",\n      valueName: \"author\",\n      title: \"Автор\",\n      placeholder: \"\",\n      controlId: \"2\",\n    },\n    {\n      type: \"date\",\n      valueName: \"year\",\n      title: \"Год\",\n      placeholder: \"\",\n      controlId: \"3\",\n    },\n  ];\n  return (\n    <JustModal\n      show={show}\n      onHide={() => onHide()}\n      onSubmit={() => {}}\n      submitButton={false}\n      submitButtonText={\"\"}\n      text={\"Добавь книгу\"}\n      showFooter={false}\n    >\n      <FormBuilder\n        formikInitialValue={initialValue}\n        fields={fields}\n        buttonName={\"новая книга\"}\n        onSubmit={submit}\n        schema={schema}\n      />\n    </JustModal>\n  );\n};\n","import { useAppDispatch, useAppSelector } from \"../../helpers/hooks\";\nimport { FC, ReactElement, useEffect, useRef, useState } from \"react\";\nimport { fetchBooks } from \"../../store/actions/books\";\nimport { Button, ButtonGroup, ButtonToolbar, Card } from \"react-bootstrap\";\nimport { Book } from \"../../entity/books.types\";\nimport Moment from \"react-moment\";\nimport { RouteComponentProps, StaticContext } from \"react-router\";\nimport { AddBookModal } from \"../AddBookModal\";\n\nexport const ListOfBooks: FC<\n  RouteComponentProps<any, StaticContext, unknown>\n> = (props: RouteComponentProps) => {\n  // может когда-нибудь мне будет не лень сделать пагинацию с выбором числа итемов\n  // а может даже серверную\n  const itemsPerList = 5;\n  const [currentBooksList, setCurrentBooksList] = useState<Array<Book>>([]);\n  const [modalShow, setModalShow] = useState(false);\n  const books = useAppSelector((a) => a.books.books);\n  const dispatch = useAppDispatch();\n  // шобы линтер не ругался\n  const dispatchBooks = useRef(() => {});\n  dispatchBooks.current = () => {\n    dispatch(fetchBooks());\n  };\n  useEffect(() => {\n    dispatchBooks.current();\n  }, []);\n  useEffect(() => {\n    if (books.length > 0) {\n      nextPage.current(itemsPerList)();\n    }\n  }, [books]);\n  function getBooksLength(): number {\n    return books.length;\n  }\n  // шобы линтер не ругался\n  const nextPage = useRef((where: number) => () => {\n    console.log(where);\n  });\n  nextPage.current = (where: number) => {\n    return () => {\n      const currentBooks: Array<Book> = [];\n      for (let i = where - itemsPerList; i < where; i++) {\n        if (books[i]) {\n          currentBooks.push(books[i]);\n        }\n      }\n      setCurrentBooksList(currentBooks);\n    };\n  };\n  function buttons(): Array<ReactElement> {\n    const buttons: Array<ReactElement> = [];\n    const pagination = Math.ceil(getBooksLength() / itemsPerList);\n    for (let i = 1; i <= pagination; i++) {\n      buttons.push(\n        <Button\n          key={`${new Date()}_${i}`}\n          onClick={nextPage.current(itemsPerList * i)}\n        >\n          {i}\n        </Button>\n      );\n    }\n    return buttons;\n  }\n  return (\n    <div>\n      {currentBooksList.map((a) => (\n        <Card\n          onClick={() => props.history.push(`/books/${a.id}`)}\n          key={a.id}\n          className=\"book-card cursor-pointer my-2\"\n        >\n          <Card.Body>\n            <Card.Title>{a.title}</Card.Title>\n            <Card.Subtitle className=\"mb-2 text-muted\">\n              {a.author}\n            </Card.Subtitle>\n            <Card.Text>\n              <Moment format=\"DD.MM.YYYY\">{a.year}</Moment>\n            </Card.Text>\n          </Card.Body>\n        </Card>\n      ))}\n      <ButtonToolbar>\n        <ButtonGroup>{buttons()}</ButtonGroup>\n      </ButtonToolbar>\n      <Button\n        onClick={() => setModalShow(true)}\n        className=\"mt-5\"\n        variant=\"success\"\n      >\n        Добавить книгу\n      </Button>\n      <AddBookModal\n        show={modalShow}\n        onHide={() => setModalShow(false)}\n        history={props.history}\n      />\n    </div>\n  );\n};\n","import { useAuth } from \"../context/AuthProvider\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { ReactNode } from \"react\";\n\nexport default function ProtectedRoute({\n  children,\n  path,\n}: {\n  children: ReactNode;\n  path: string;\n}) {\n  const auth = useAuth();\n  return auth && auth.currentToken ? (\n    <Route path={path}>{children}</Route>\n  ) : (\n    <Redirect to={\"/authorization\"} />\n  );\n}\n","import { FC } from \"react\";\nimport { RouteComponentProps, StaticContext } from \"react-router\";\nimport { useAuth } from \"../../context/AuthProvider\";\nimport * as Yup from \"yup\";\nimport { Field, FormBuilder } from \"../FormBuilder\";\nimport { RegistrationForm } from \"../../entity/form.types\";\nimport { useAppDispatch } from \"../../helpers/hooks\";\nimport { setAlert } from \"../../store/actions/common\";\n\nexport const Registration: FC<\n  RouteComponentProps<any, StaticContext, unknown>\n> = (props: RouteComponentProps) => {\n  const auth = useAuth();\n  const dispatch = useAppDispatch();\n\n  const submit = (values: RegistrationForm) => {\n    if (auth) {\n      auth.registration(values, props.history);\n    } else {\n      dispatch(setAlert({ type: \"error\", text: \"возникли какие-то проблемы\" }));\n    }\n  };\n\n  const initialValue: RegistrationForm = {\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    password: \"\",\n  };\n\n  const schema = Yup.object({\n    first_name: Yup.string().required(\"Required\"),\n    last_name: Yup.string().required(\"Required\"),\n    email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n    password: Yup.string().required(\"Required\"),\n  });\n\n  const fields: Array<Field<RegistrationForm>> = [\n    {\n      type: \"text\",\n      valueName: \"first_name\",\n      title: \"Имя\",\n      placeholder: \"\",\n      controlId: \"1\",\n    },\n    {\n      type: \"text\",\n      valueName: \"last_name\",\n      title: \"Фамилия\",\n      placeholder: \"\",\n      controlId: \"2\",\n    },\n    {\n      type: \"text\",\n      valueName: \"email\",\n      title: \"E-mail\",\n      placeholder: \"\",\n      controlId: \"3\",\n    },\n    {\n      type: \"password\",\n      valueName: \"password\",\n      title: \"Пароль\",\n      placeholder: \"\",\n      controlId: \"4\",\n    },\n  ];\n\n  return (\n    <div className=\"auth-form justify-content-center d-flex\">\n      <FormBuilder\n        formikInitialValue={initialValue}\n        fields={fields}\n        buttonName={\"зарегаться\"}\n        onSubmit={submit}\n        schema={schema}\n      />\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport { JustModal } from \"./JustModal\";\nimport { useAppDispatch } from \"../helpers/hooks\";\nimport { History } from \"history\";\nimport { deleteBookAction } from \"../store/actions/books\";\n\ninterface DeleteBookModalI {\n  id: string;\n  onHide(): void;\n  show: boolean;\n  history: History<unknown>;\n}\n\nexport const DeleteBookModal: FC<DeleteBookModalI> = ({\n  id,\n  onHide,\n  show,\n  history,\n}) => {\n  const dispatch = useAppDispatch();\n  function deleteBook() {\n    dispatch(deleteBookAction(id, history));\n  }\n  return (\n    <JustModal\n      show={show}\n      submitButton={true}\n      onSubmit={() => deleteBook()}\n      submitButtonText={\"Удалить\"}\n      onHide={() => onHide()}\n      text={\"Удаление книги\"}\n    >\n      <div>Вы действительно хотите удалить это</div>\n    </JustModal>\n  );\n};\n","import { FC } from \"react\";\nimport { JustModal } from \"./JustModal\";\nimport { useAppDispatch } from \"../helpers/hooks\";\nimport { NewBookForm } from \"../entity/form.types\";\nimport * as Yup from \"yup\";\nimport { Field, FormBuilder } from \"./FormBuilder\";\nimport { EditBook } from \"../store/actions/books\";\nimport { Book } from \"../entity/books.types\";\nimport moment from \"moment\";\n\ninterface AddBookModalI {\n  show: boolean;\n  onHide(): void;\n  book: Book;\n}\n\nexport const EditBookModal: FC<AddBookModalI> = ({ show, onHide, book }) => {\n  const dispatch = useAppDispatch();\n\n  const submit = (values: NewBookForm) => {\n    dispatch(EditBook(values, `${book.id}`));\n    onHide();\n  };\n\n  const initialValue: NewBookForm = {\n    title: book.title,\n    author: book.author,\n    year: moment(book.year).format(\"YYYY-MM-DD\"),\n  };\n\n  const schema = Yup.object({\n    title: Yup.string().required(\"Required\"),\n    author: Yup.string().required(\"Required\"),\n    year: Yup.date().required(\"Required\"),\n  });\n\n  const fields: Array<Field<NewBookForm>> = [\n    {\n      type: \"text\",\n      valueName: \"title\",\n      title: \"Название\",\n      placeholder: \"\",\n      controlId: \"1\",\n    },\n    {\n      type: \"text\",\n      valueName: \"author\",\n      title: \"Автор\",\n      placeholder: \"\",\n      controlId: \"2\",\n    },\n    {\n      type: \"date\",\n      valueName: \"year\",\n      title: \"Год\",\n      placeholder: \"\",\n      controlId: \"3\",\n    },\n  ];\n  return (\n    <JustModal\n      show={show}\n      onHide={() => onHide()}\n      onSubmit={() => {}}\n      submitButton={false}\n      submitButtonText={\"\"}\n      text={\"Измени книгу\"}\n      showFooter={false}\n    >\n      <FormBuilder\n        formikInitialValue={initialValue}\n        fields={fields}\n        buttonName={\"изменить\"}\n        onSubmit={submit}\n        schema={schema}\n      />\n    </JustModal>\n  );\n};\n","import { FC, useEffect, useRef, useState } from \"react\";\nimport { RouteComponentProps, StaticContext } from \"react-router\";\nimport { useAppDispatch, useAppSelector } from \"../../helpers/hooks\";\nimport { fetchBook } from \"../../store/actions/books\";\nimport { Button, Card } from \"react-bootstrap\";\nimport Moment from \"react-moment\";\nimport { DeleteBookModal } from \"../DeleteBookModal\";\nimport { EditBookModal } from \"../EditBookModal\";\n\ninterface ViewBookParams {\n  id: string;\n}\n\nexport const Book: FC<\n  RouteComponentProps<ViewBookParams, StaticContext, unknown>\n> = (props: RouteComponentProps<ViewBookParams>) => {\n  const randomPictures: Array<string> = [\n    \"https://tlgrm.eu/_/stickers/b12/d5f/b12d5fb5-fbd0-3a2d-99fc-2642b586f219/2.jpg\",\n    \"https://static.wikia.nocookie.net/36689b26-ddcb-4ae6-a8c0-33b165fb6bcd\",\n    \"https://coub-anubis-a.akamaized.net/coub_storage/coub/simple/cw_timeline_pic/1209ea8d93d/b040e8b2b7aeb701e436e/1472075717_1397934971_image.jpg\",\n    \"https://coub-anubis-a.akamaized.net/coub_storage/coub/simple/cw_timeline_pic/707e18cc5da/8719cc8272f4a5b57aa64/1472097606_image.jpg\",\n    \"https://coub-anubis-a.akamaized.net/coub_storage/coub/simple/cw_timeline_pic/9c601aca149/f9efb55a108f9c805cf97/1417725120_image.jpg\",\n    \"https://i.ytimg.com/vi/hCpnNCqjULw/maxresdefault.jpg\",\n    \"https://coub-anubis-a.akamaized.net/coub_storage/coub/simple/cw_timeline_pic/90dc2512709/05953e2add74dbac18317/1415193181_image.jpg\",\n    \"http://i.mycdn.me/i?r=AEHujHvw2RjEbemUCNEorZbxYpb_p_9AcN2FmGik64KrkRZtvDpGZlB7IRDnkDh2-EF7Zi9s0CiBOSDmbngC-I-k&fn=external_8\",\n    \"https://user92966.clients-cdnnow.ru/upload/setka-editor/a1c/a1cd53320de0951efc82d79db29afc44.jpg.webp\",\n    \"https://user92966.clients-cdnnow.ru/upload/setka-editor/0fe/0fe5f8ef5cc10ec303873a01d39ec01d.jpg.webp\",\n    \"https://sun9-69.userapi.com/impg/ae9mYIT5fRNtgCKP9m5d8wz6ZgqVkDt5JV1u2A/2jRtGN37Ht8.jpg?size=1920x1080&quality=96&sign=211aaf2a866dde1148f548273cbbe14b&type=album\",\n    \"https://sun9-53.userapi.com/impg/6d_zXlOn97SGWJdbrh9zb5ktYlyOUPQIVbmGTA/OM3iO6poYyQ.jpg?size=1925x863&quality=96&sign=28d45dd729e6e8ab6de0977379f2c039&type=album\",\n    \"https://sun9-19.userapi.com/impg/jmdNejMU9wxKV13PfjAhXjWIS5mLs6cXJ1YRlA/K-XxkGAuzbo.jpg?size=1920x1080&quality=96&sign=fd224e2ad334871c1ad6afb999fb9ab6&type=album\",\n    \"https://sun9-20.userapi.com/impg/SmBVN_ZAYSjpU6xM5VV1gYFRN-dFzBOk0jUTiQ/IH80pVkkFgc.jpg?size=1920x1080&quality=96&sign=4ec042afb016c1e7e493eda5a1c303f3&type=album\",\n  ];\n  const [deleteBook, changeDeleteBook] = useState(false);\n  const [editBook, changeEditBook] = useState(false);\n  const [pictureIndex, changePictureIndex] = useState(0);\n  const book = useAppSelector((a) => a.books.currentBook);\n  const id = props.match.params.id;\n  const changeIndex = useRef(() =>\n    changePictureIndex(Math.round(Math.random() * randomPictures.length - 1))\n  );\n\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    changeIndex.current();\n    dispatch(fetchBook(id));\n  }, [dispatch, id]);\n  return book ? (\n    <div>\n      <div className=\"d-flex mt-5 justify-content-end\">\n        <Button onClick={() => changeDeleteBook(true)} variant=\"danger\">\n          Удалить книгу\n        </Button>\n      </div>\n      <DeleteBookModal\n        id={id}\n        onHide={() => changeDeleteBook(false)}\n        show={deleteBook}\n        history={props.history}\n      />\n      <Card className=\"book-card my-2\">\n        <Card.Img src={randomPictures[pictureIndex]} />\n        <Card.Body>\n          <Card.Title>{book.title}</Card.Title>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            {book.author}\n          </Card.Subtitle>\n          <Card.Text>\n            <Moment format=\"DD.MM.YYYY\">{book.year}</Moment>\n          </Card.Text>\n          <Button onClick={() => changeEditBook(true)} variant=\"primary\">\n            Изменить книгу\n          </Button>\n          <EditBookModal\n            show={editBook}\n            onHide={() => changeEditBook(false)}\n            book={book}\n          />\n        </Card.Body>\n      </Card>\n    </div>\n  ) : (\n    <div>ъаъа</div>\n  );\n};\n","import { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport { Lol } from \"../components/Lol\";\nimport { RouteI } from \"./router.types\";\nimport { Authorization } from \"../components/pages/Authoriztion\";\nimport { ListOfBooks } from \"../components/pages/Books\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { Registration } from \"../components/pages/Registration\";\nimport { Book } from \"../components/pages/Book\";\n\nexport default function Router() {\n  const route: Array<RouteI> = [\n    {\n      routeName: \"/registration\",\n      routeComponent: withRouter(Registration),\n      private: false,\n    },\n    {\n      routeName: \"/authorization\",\n      routeComponent: withRouter(Authorization),\n      private: false,\n    },\n    {\n      routeName: \"/about\",\n      routeComponent: withRouter(Lol),\n      private: true,\n    },\n    {\n      routeName: \"/books/:id\",\n      routeComponent: withRouter(Book),\n      private: true,\n    },\n    {\n      routeName: \"/books\",\n      routeComponent: withRouter(ListOfBooks),\n      private: true,\n    },\n    {\n      routeName: \"/\",\n      routeComponent: <Redirect to=\"/books\" />,\n      private: true,\n    },\n  ];\n  return (\n    <Switch>\n      {route.map((a: RouteI) =>\n        a.private ? (\n          <ProtectedRoute key={a.routeName} path={a.routeName}>\n            {a.routeComponent}\n          </ProtectedRoute>\n        ) : (\n          <Route key={a.routeName} path={a.routeName}>\n            {a.routeComponent}\n          </Route>\n        )\n      )}\n    </Switch>\n  );\n}\n","import { Toast } from \"react-bootstrap\";\nimport { useAppDispatch, useAppSelector } from \"../helpers/hooks\";\nimport { removeAlert } from \"../store/actions/common\";\n\nexport default function Alert() {\n  const dispatch = useAppDispatch();\n  const loading = useAppSelector((a) => a.common.alerts);\n  function removeAlertById(id: number) {\n    return () => {\n      dispatch(removeAlert(id));\n    };\n  }\n  return (\n    <div\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n      style={{\n        position: \"absolute\",\n        minHeight: \"200px\",\n        top: 0,\n        right: 0,\n      }}\n    >\n      {loading.map((a) => (\n        <Toast\n          key={a.id}\n          style={{\n            backgroundColor: a.type === \"success\" ? \"green\" : \"red\",\n            color: \"white\",\n            minWidth: 200,\n          }}\n          onClose={removeAlertById(a.id)}\n        >\n          <Toast.Header>\n            <strong className=\"mr-auto\">\n              {a.type === \"success\" ? \"Заебись\" : \"Ошибка\"}\n            </strong>\n            <small>just now</small>\n          </Toast.Header>\n          <Toast.Body>{a.text}</Toast.Body>\n        </Toast>\n      ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Router from \"./router/Router\";\nimport GreatLoader from \"./components/GreatLoader\";\nimport { useAppDispatch, useAppSelector } from \"./helpers/hooks\";\nimport Alert from \"./components/Alert\";\nimport { useAuth } from \"./context/AuthProvider\";\nimport { Button } from \"react-bootstrap\";\nimport { logoutAction } from \"./store/actions/auth\";\n\nfunction App() {\n  const loading = useAppSelector((a) => a.common.appLoading);\n  const dispatch = useAppDispatch();\n  function logout() {\n    dispatch(logoutAction());\n  }\n  const auth = useAuth();\n  return (\n    <div className=\"App\">\n      <div style={!loading ? { display: \"none\" } : {}}>\n        <GreatLoader />\n      </div>\n      <div className=\"app_container\" style={loading ? { display: \"none\" } : {}}>\n        <Router />\n        <Alert />\n      </div>\n      {auth && auth.user && (\n        <Button\n          variant=\"danger\"\n          size=\"lg\"\n          className=\"logout-button\"\n          onClick={logout}\n        >\n          логаут\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { User } from \"../../entity/user.types\";\nimport { MutationTypes } from \"../../entity/mutation.types\";\nimport { CoolType } from \"../actions\";\n\nexport interface AuthReducer {\n  token: string;\n  user: User | undefined;\n}\n\nexport let initialProfileStore: AuthReducer = {\n  token: \"\",\n  user: undefined,\n};\n\nexport default function userReducer(\n  state = initialProfileStore,\n  action: CoolType\n): AuthReducer {\n  switch (action.type) {\n    case MutationTypes.LOGIN_SUCCESS:\n      return {\n        ...state,\n        user: action.data.user,\n        token: action.data.token,\n      };\n    case MutationTypes.SET_TOKEN:\n      return {\n        ...state,\n        token: action.token,\n      };\n    case MutationTypes.LOGOUT:\n      return {\n        ...state,\n        token: \"\",\n        user: undefined,\n      };\n    default:\n      return state;\n  }\n}\n","import { Book, BooksResponseType } from \"../../entity/books.types\";\nimport { MutationTypes } from \"../../entity/mutation.types\";\nimport { CoolType } from \"../actions\";\n\nexport interface BookReducer {\n  books: BooksResponseType;\n  currentBook: Book | null;\n}\n\nexport let initialBooksStore: BookReducer = {\n  books: [],\n  currentBook: null,\n};\n\nexport default function booksReducer(\n  state = initialBooksStore,\n  action: CoolType\n): BookReducer {\n  switch (action.type) {\n    case MutationTypes.SET_BOOKS:\n      return {\n        ...state,\n        books: action.data,\n      };\n    case MutationTypes.SET_BOOK:\n      return {\n        ...state,\n        currentBook: action.data,\n      };\n    default:\n      return state;\n  }\n}\n","import { CoolType } from \"../actions\";\nimport { MutationTypes } from \"../../entity/mutation.types\";\nimport { Alert } from \"../../entity/common.types\";\n\nexport interface CommonReducer {\n  alerts: Array<Alert>;\n  appLoading: boolean;\n  firstAppLoading: boolean;\n}\n\nexport const initialCommonStore: CommonReducer = {\n  alerts: [],\n  appLoading: false,\n  firstAppLoading: true,\n};\n\nfunction removeAlert(state: CommonReducer, id: number): Array<Alert> {\n  const newAlerts: Array<Alert> = [];\n  for (let i = 0; i < state.alerts.length; i++) {\n    if (state.alerts[i].id !== id) {\n      newAlerts.push(state.alerts[i]);\n    }\n  }\n\n  return newAlerts;\n}\n\nexport default function commonReducer(\n  state = initialCommonStore,\n  action: CoolType\n): CommonReducer {\n  switch (action.type) {\n    case MutationTypes.FIRST_APP_LOADING:\n      return {\n        ...state,\n        firstAppLoading: action.flag,\n      };\n    case MutationTypes.SET_LOADING:\n      return {\n        ...state,\n        appLoading: action.flag,\n      };\n    case MutationTypes.SET_ALERT:\n      return {\n        ...state,\n        alerts: [action.newAlert, ...state.alerts],\n      };\n    case MutationTypes.REMOVE_ALERT:\n      return {\n        ...state,\n        alerts: removeAlert(state, action.alertId),\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers, Reducer } from \"redux\";\nimport userReducer, { AuthReducer, initialProfileStore } from \"./profile\";\nimport booksReducer, { BookReducer, initialBooksStore } from \"./books\";\nimport commonReducer, { CommonReducer, initialCommonStore } from \"./common\";\n\nexport interface AppStore {\n  common: CommonReducer;\n  auth: AuthReducer;\n  books: BookReducer;\n}\n\nexport const initialState: AppStore = {\n  common: initialCommonStore,\n  auth: initialProfileStore,\n  books: initialBooksStore,\n};\n\nexport default function createReducers(): Reducer<AppStore> {\n  return combineReducers<AppStore>({\n    common: commonReducer,\n    auth: userReducer,\n    books: booksReducer,\n  });\n}\n","import { AxiosInstanse } from \"../../helpers/axios\";\nimport { call, takeEvery, put } from \"redux-saga/effects\";\nimport { Book, BooksResponseType } from \"../../entity/books.types\";\nimport { MutationTypes } from \"../../entity/mutation.types\";\nimport {\n  AddBook,\n  deleteBookAction,\n  EditBook,\n  fetchBook,\n  fetchBooks,\n  setBookIntoState,\n  setBooksIntoState,\n} from \"../actions/books\";\nimport { AxiosResponse } from \"axios\";\nimport { setAlert, setAppLoading } from \"../actions/common\";\nimport { NewBookForm } from \"../../entity/form.types\";\nimport { ErrorSaga } from \"./errors\";\n\nconst getBooksApi = () => AxiosInstanse.get(\"/api/v2/books\");\n\nconst getBookApi = (id: string) => () =>\n  AxiosInstanse.get(`/api/v2/books/${id}`);\n\nconst setBookApi = (book: NewBookForm) => () =>\n  AxiosInstanse.post(\"/api/v2/books\", book);\n\nconst editBookApi = (book: NewBookForm, id: string) => () =>\n  AxiosInstanse.put(`/api/v2/books/${id}`, book);\n\nconst deleteBookApi = (id: string) => () =>\n  AxiosInstanse.delete(`/api/v2/books/${id}`);\n\nfunction* GetBooksSaga() {\n  yield put(setAppLoading(true));\n  try {\n    const books: AxiosResponse<BooksResponseType> = yield call(getBooksApi);\n    yield put(setBooksIntoState(books.data));\n    yield put(setAppLoading(false));\n  } catch (e) {\n    console.log(e);\n    yield ErrorSaga(e, \"штото пошло не так\");\n  }\n}\n\nfunction* AddBookSaga({ book }: ReturnType<typeof AddBook>) {\n  yield put(setAppLoading(true));\n  try {\n    const books: AxiosResponse<BooksResponseType> = yield call(\n      setBookApi(book)\n    );\n    yield put(setBooksIntoState(books.data));\n    yield put(setAppLoading(false));\n    yield put(\n      setAlert({\n        type: \"success\",\n        text: \"все круто ищи свою книгу в конце хыыыы\",\n      })\n    );\n  } catch (e) {\n    yield ErrorSaga(e, \"штото пошло не так, проверьте правильность данных\");\n  }\n}\n\nfunction* GetBookSaga({ id }: ReturnType<typeof fetchBook>) {\n  yield put(setAppLoading(true));\n  try {\n    const book: AxiosResponse<Book> = yield call(getBookApi(id));\n    yield put(setBookIntoState(book.data));\n    yield put(setAppLoading(false));\n  } catch (e) {\n    yield ErrorSaga(e, \"нет такой книги\");\n  }\n}\n\nfunction* EditBookSaga({ bookForm, id }: ReturnType<typeof EditBook>) {\n  yield put(setAppLoading(true));\n  try {\n    const book: AxiosResponse<Book> = yield call(editBookApi(bookForm, id));\n    yield put(setBookIntoState(book.data));\n    yield put(setAppLoading(false));\n    yield put(\n      setAlert({\n        type: \"success\",\n        text: \"все круто\",\n      })\n    );\n  } catch (e: any) {\n    yield ErrorSaga(e, \"штото пошло не так, проверьте правильность данных\");\n  }\n}\n\nfunction* DeleteBookSaga({ id, history }: ReturnType<typeof deleteBookAction>) {\n  yield put(setAppLoading(true));\n  try {\n    yield call(deleteBookApi(id));\n    yield put(setAlert({ type: \"success\", text: \"Все круто книга удаллиася\" }));\n    yield put(setAppLoading(false));\n    yield put(fetchBooks());\n    history.push(\"/books\");\n  } catch (e) {\n    yield ErrorSaga(e, \"нет такой книги\");\n  }\n}\n\nexport function* BooksWatcher() {\n  yield takeEvery(MutationTypes.EDIT_BOOK, EditBookSaga);\n  yield takeEvery(MutationTypes.DELETE_BOOK, DeleteBookSaga);\n  yield takeEvery(MutationTypes.ADD_BOOK, AddBookSaga);\n  yield takeEvery(MutationTypes.GET_BOOKS, GetBooksSaga);\n  yield takeEvery(MutationTypes.GET_BOOK, GetBookSaga);\n}\n","import { put, takeEvery, delay } from \"redux-saga/effects\";\nimport { removeAlert, removeAlertTimeout } from \"../actions/common\";\nimport { MutationTypes } from \"../../entity/mutation.types\";\n\nexport function* TimeoutSaga({\n  alertId,\n  timeout,\n}: ReturnType<typeof removeAlertTimeout>) {\n  if (alertId && timeout) {\n    yield delay(timeout);\n    yield put(removeAlert(alertId));\n  }\n}\nexport function* CommonWatcher() {\n  yield takeEvery(MutationTypes.REMOVE_ALERT_TIMEOUT, TimeoutSaga);\n}\n","import { all } from \"redux-saga/effects\";\nimport { AuthWatcher } from \"./auth\";\nimport { BooksWatcher } from \"./books\";\nimport { CommonWatcher } from \"./common\";\nexport default function* rootSaga() {\n  yield all([AuthWatcher(), BooksWatcher(), CommonWatcher()]);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./store/configureStore\";\nimport { initialState } from \"./store/reducers\";\nimport { AuthProvider } from \"./context/AuthProvider\";\n\nexport const store = configureStore(initialState);\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppDispatch = typeof store.dispatch;\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AuthProvider>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </AuthProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { applyMiddleware, createStore, Store, compose } from \"redux\";\nimport createReducers, { AppStore } from \"./reducers\";\nimport { CoolType } from \"./actions\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./sideEffects\";\nexport default function configureStore(\n  initialState: AppStore\n): Store<AppStore, CoolType> {\n  const saga = createSagaMiddleware();\n  // @ts-ignore\n  const composeEnhancers =\n    // @ts-ignore\n    typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? // @ts-ignore\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n      : compose;\n  const enchancers = composeEnhancers(applyMiddleware(saga));\n  const store = createStore<AppStore, CoolType, unknown, unknown>(\n    createReducers(),\n    initialState,\n    enchancers\n  );\n  saga.run(rootSaga);\n  return store;\n}\n"],"sourceRoot":""}